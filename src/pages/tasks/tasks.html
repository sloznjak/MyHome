<!--
  Generated template for the Tasks page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar color="myDark">
        <ion-title color="myGreen">Tasks</ion-title>
        <ion-buttons end>
            <button ion-button icon-only (click)="addTask()">
                <i class="fa fa-plus fa-1d5x"></i>
            </button>
        </ion-buttons>
    </ion-navbar>

</ion-header>


<ion-content>
    <ion-card color="myDark" *ngFor="let tasksDate of tasksDates">
        <ion-card-header>
            <div style="width: 90%; float: left;">
                {{tasksDate.display | date:'longDate'}}
            </div>
        </ion-card-header>
        <ion-card-content>
            <ion-list>
                <div *ngFor="let task of tasks">
                    <div *ngIf="task.date.toISOString().substring(0,10) == tasksDate.date">
                        <ion-item-sliding #item color="myDarkLight">
                            <ion-item color="myDarkLight">
                                <div>
                                    <div style="width: 25%; float: left">
                                        {{task.date | date:'shortTime'}}
                                    </div>
                                    <div style="width: 75%; float: left">
                                        {{task.description}}
                                    </div>
                                </div>
                                <div style="clear: both"></div>
                            </ion-item>
                            <ion-item-options side="left">
                                <button ion-button color="myGreen" (click)="updateTask(task)"><i class="fa fa-check fa-2x"></i></button>
                            </ion-item-options>

                            <ion-item-options side="right">
                                <button ion-button color="myRed" (click)="deleteTask(task)"><i class="fa fa-trash fa-2x"></i></button>
                            </ion-item-options>
                        </ion-item-sliding>
                    </div>
                </div>
            </ion-list>
        </ion-card-content>
    </ion-card>
    <ion-card color="myDark" *ngIf="tasks.length == 0">
        <ion-card-header>
            There are no tasks....
        </ion-card-header>
    </ion-card>
</ion-content>
